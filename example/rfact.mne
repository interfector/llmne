_START:

READ ARG
#INC ARG

STPUSH ARG
CALL RFACT
STPOP ARG

WRITE ARG

EXIT 0

ARG:
0000

RFACT:
SUBSP 1
STPOP RFACT_TEMP
STPUSH RFACT_TEMP
ADDSP 1

INC RFACT_TEMP

STPUSH RFACT_TEMP

CALL RFACT_INIT

ADDSP 1
STPOP RFACT_TEMP
SUBSP 2
STPUSH RFACT_TEMP
ADDSP 1

RET

RFACT_TEMP:
0000

RFACT_INIT:
SUBSP 1
STPOP FACT_ARG
STPUSH FACT_ARG
ADDSP 1

LOAD FACT_ARG
CMP ONE
JZ RFACT_RET

DEC FACT_ARG

STPUSH FACT_ARG
CALL RFACT_INIT

STPOP FACT_ARG2
LOAD FACT_ARG2
MUL FACT_ARG
SAVE FACT_ARG

RFACT_RET:
STPUSH FACT_ARG
SUBSP 1
RET

FACT_ARG:
0000

FACT_ARG2:
0000

ONE:
0001
