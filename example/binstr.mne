#!/usr/local/bin/llmne -x
# calculate the binary representation of an integer

DISPLAY INT

READ I

LOOP:
PUSH I
CMP K
JZ END
MOD J
CMP K
JZ WRT
PUSH Z
CALL SAVE

JMP WRT+2

WRT:
PUSH K
CALL SAVE
PUSH I
DIV J
POP I
JMP LOOP

END:

DISPLAY CHAR

PUSH PRINT
ADD COUNT
POP PRINT
DEC PRINT

CALL PRINT
WRITE NEWLINE
EXIT 0

SAVE:
POP STRING
INC SAVE
INC COUNT
RET

PRINT:
PUSH STRING
CMP EON
JZ END+6

ADD GAP
POP I
WRITE I
DEC PRINT
JMP PRINT
RET

# VAR
I:
0000

J:
0002

K:
0000

Z:
0001

COUNT:
0000

NEWLINE:
0010 '\n'

GAP:
0048

EON:
9999

STRING:
0000
