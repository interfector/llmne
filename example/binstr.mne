#!/usr/local/bin/llmne -x
# calculate the binary representation of an integer

DISPLAY INT

READ I

LOOP:
LOAD I
CMP K
JZ END
MOD J
CMP K
JZ WRT
LOAD Z
CALL SAVE

JMP WRT+2

WRT:
LOAD K
CALL SAVE
LOAD I
DIV J
SAVE I
JMP LOOP

END:

DISPLAY CHAR

LOAD PRINT
ADD COUNT
SAVE PRINT
DEC PRINT

CALL PRINT
WRITE NEWLINE
EXIT 0

SAVE:
SAVE STRING
INC SAVE
INC COUNT
RET

PRINT:
LOAD STRING
CMP EON
JZ END+6

ADD GAP
SAVE I
WRITE I
DEC PRINT
JMP PRINT
RET

# VAR
I:
0000

J:
0002

K:
0000

Z:
0001

COUNT:
0000

NEWLINE:
0010 '\n'

GAP:
0048

EON:
9999

STRING:
0000
0
0
0
0
0
0
0
0
0
0
0
